# 阿里巴巴2016研发工程师笔试题（三）

## 1
下面线程间的通讯机制中，关键路径上不会产生系统调用从而减少用户态到内核态的上下文切换的是____。

正确答案: A   你的答案: F (错误)

	A. pthread_spin_lock
	B. pthread_mutex
	C. 信号量
	D. pthread_rwlock
	E. 管道
	F. 消息队列

解析：

1，spinlock 介绍

spinlock又称自旋锁，线程通过busy-wait-loop的方式来获取锁，任时刻只有一个线程能够获得锁，其他线程忙等待直到获得锁。spinlock在多处理器多线程环境的场景中有很广泛的使用，一般要求使用spinlock的临界区尽量简短，这样获取的锁可以尽快释放，以满足其他忙等的线程。Spinlock和mutex不同，spinlock不会导致线程的状态切换(用户态->内核态)，但是spinlock使用不当(如临界区执行时间过长)会导致cpu busy飙高。

2，使用准则

Spinlock使用准则：临界区尽量简短，控制在100行代码以内，不要有显式或者隐式的系统调用，调用的函数也尽量简短。例如，不要在临界区中调用read,write,open等会产生系统调用的函数，也不要去sleep；strcpy，memcpy等函数慎用，依赖于数据的大小。
## 2
有一个类B继承自类A，他们数据成员如下：

	class A {
	...
	private：
	   int &a;
	};
	class B : public A {
	...
	private:
	     int a;
	public:
	     const int b;
	     A c;
	     static const char* d;
	     A* e;
	};

则构造函数中，成员变量一定要通过初始化列表来初始化的是____。

正确答案: A   你的答案: A (正确)

	A. b c
	B. b c e
	C. b c d e
	D. c e
	E. b d
	F. b e
## 3
一人以d元在淘宝买入n套《三体》，d为正整数，其中两套他以成本一半送给朋友，余下的每套高于原价8元卖出，加上送给朋友的两套，如果全部利润是72元，那么n最小可能是____。

正确答案: E   你的答案: E (正确)

	A. 18
	B. 17
	C. 15
	D. 13
	E. 12
	F. 10

## 4
进程P1和P2，资源A和B，进程对资源的操作定义如下：读取资源A：rA；读取资源B：rB；写入资源A：wA；写入资源B：wB。同时规定，进程读取某一资源前，必须加上共享锁，写入某一资源前必须加上排他锁；资源在被进程加共享锁时，可以被其他进程继续加共享锁，但不能加排他锁；资源在被进程加排他锁时，其他进程无法加锁。进程完成全部操作后释放锁。进程P1和进程P2并发执行，如下哪种运行序列可能会出现死锁_____。

正确答案: D   你的答案: C (错误)

	A. P1(rA->rB), P2(rA->wB)
	B. P1(rA->rB), P2(wA->rB)
	C. P1(wB->rA), P2(rA->rB)
	D. P1(wB->rA), P2(wA->rB)
	E. P1(wA->wB), P2(wA->wB)
	F. P1(wA->rB), P2(wA->wB)
## 5
假设基准值为数组首元素的快速排序，要使得数组满足非降序排列，下列数据分布导致快排算法效率最低的是____。

正确答案: E   你的答案: E (正确)

	A. 2-6-3-7-5-1-4
	B. 6-2-3-5-4-1-7
	C. 7-5-3-2-4-1-6
	D. 1-5-7-2-4-6-3
	E. 1-2-3-4-5-6-7
	F. 4-1-3-7-5-6-2
## 6
二进制值0.00110011001100110011001100110011 转换成10进制后最接近____。

正确答案: C   你的答案: F (错误)

	A. 0.1
	B. 0.15
	C. 0.2
	D. 0.22
	E. 0.25
	F. 0.3

解析：

在计算机中二进制转换为十进制是为：对应为乘以权值，小数点后面一次为2的-1次方，上的-2次方依次类推。所以本题小数点后第一个1转换为十进制为2的-3次方，第二个一为2的-4次方，这两个的和为0.1875.估算这串二进制转换为十进制为0.2左右。
## 7
将整数数组（7-6-3-5-4-1-2）按照堆排序的方式原地进行升序排列，请问在第一轮排序结束之后，数组的顺序是_____。

正确答案: C   你的答案: A (错误)

	A. 2-6-3-5-4-1-7
	B. 6-2-3-5-4-1-7
	C. 6-5-3-2-4-1-7
	D. 1-5-3-2-4-6-7
	E. 5-4-3-2-1-6-7
	F. 5-1-3-2-4-6-7

## 8
函数func的定义如下：

	void func(const int& v1, const int& v2)
	{
	    std::cout << v1 << ' ';
	    std::cout << v2 << ' ';
	}

 以下代码在vs中输出结果为____。

	int main (int argc, char* argv[])
	{
	    int i=0;
	    func(++i,i++);
	    return 0;
	}

正确答案: D   你的答案: D (正确)

	A. 0 1
	B. 1 2
	C. 2 1
	D. 2 0
	E. 程序强制终止并报错
	F. 结果与编译器有关
## 9
将森林转换为对应的二叉树，若在二叉树结点中，结点m是结点n的双亲结点的双亲结点，则在原来的森林中，m和n可能具有的关系是____。

1.父子关系

2.m的双亲结点与n的双亲结点是兄弟关系

3.兄弟关系

正确答案: B   你的答案: D (错误)

	A. 只有3
	B. 1和3
	C. 1和2
	D. 1、2和3
	E. 只有1
	F. 只有2

## 10
在1,2,3,......,999,1000中，有____个数各位数之和模10等于0。

正确答案: A   你的答案: A (正确)

	A. 99
	B. 100
	C. 101
	D. 150
	E. 200
	F. 201

## 11
两人在一个n个点的无向完全图上进行游戏，每次可以选择当前图中两个端点度数奇偶性相同的边删除，谁不能操作谁输，则在n=1,2,3,......,9,10中，有____个图先手有必胜策略。

正确答案: D   你的答案: D (正确)

	A. 2
	B. 3
	C. 4
	D. 5
	E. 6
	F. 7
## 12
以下程序输出结果是____。

	class A
	{
	public:
	    virtual void func(int val = 1)
	    { std::cout<<"A->"<<val <<std::endl;}
	    virtual void test()
	    { func();}
	};
	class B : public A
	{
	public:
	    void func(int val=0)
	{std::cout<<"B->"<<val <<std::endl;}
	};
	int main(int argc ,char* argv[])
	{
	    B*p = new B;
	    p->test();
	return 0;
	}

正确答案: B   你的答案: B (正确)

	A. A->0
	B. B->1
	C. A->1
	D. B->0
	E. 编译出错
	F. 以上都不对
## 13
关于线程和进程，不正确的描述是____。

正确答案: D   你的答案: D (正确)

	A. 进程的隔离性要好于线程
	B. 线程在资源消耗上通常要比进程轻量
	C. 不同进程间不会共享逻辑地址空间
	D. 同一个进程的线程之间共享内存，包括堆和栈
	E. 进程间有途径共享大量内存中的数据
	F. 线程间通讯可以通过直接访问全局变量，或者使用进程间通讯的机制(IPC)

## 14
如果我国希望在３０年后实现经济翻翻，并且假设我国经济增长速度每年都保持相同，那么至少需要每年保持____增长速度才可实现目标。

正确答案: D   你的答案: D (正确)

	A. 1.5%
	B. 1.8%
	C. 2.0%
	D. 2.4%
	E. 3.3%
	F. 7.0%
## 15
下面是折半查找的实现，data是按升序排列的数据，x是查找下标，y是查找的上标，
v是查找的数值，返回v在data的索引，若没找到返回-1。代码不正确是____。

	public int bsearch(int[] data, int x, int y, int v) {
	    int m;
	    while(x<y){ //1
	        m = x + (y-x)/2; //2
	        if(data[m] == v) return m; //3
	        else if(data[m] > v) y = m; //4
	        else x = m; //5
	    }
	    return -1; //6
	}

正确答案: A D E   你的答案: D E (错误)

	A. 1
	B. 2
	C. 3
	D. 4
	E. 5
	F. 6

## 16
如果下列的公式成立：84*148=B6A8。则采用的是____进制表示的
正确答案: C   你的答案: C (正确)

	A. 15
	B. 11
	C. 12
	D. 14
	E. 16
	F. 以上都不对

## 17
有一个程序中有A,B,C三个线程同时对一个文件进行读写操作，其中的A,B是写进程只负责往里面写数据，C是读线程，同时把读取的数据从文件中删除，A线程单独写满文件需要10个小时，B单独写程序需要6小时，C线程需要15小时才能读取完整个文件，不考虑三个线程之间的相互影响的情况下现在____小时才能写满文件
正确答案: A   你的答案: A (正确)

	A. 5
	B. 6
	C. 5.5
	D. 4.5
	E. 4.8
	F. 5.3
## 18
有甲、乙、丙三位员工分别负责前端、后端、数据、算法、测试、运维。每人负责两项。已知：数据和前端住在一起 甲是三人中最年轻的 前端和丙有空一起下棋 后端比算法年长，又比乙年轻 三人中最年长的住得最远 那么，三人分别负责____。
正确答案: F   你的答案: F (正确)

	A. 甲-前端&测试；乙-算法&运维；丙-后端&数据
	B. 甲-后端&算法；乙-前端&运维；丙-测试&数据
	C. 甲-前端&运维；乙-测试&算法；丙-后端&数据
	D. 甲-算法&数据；乙-测试&前端；丙-后端&运维
	E. 甲-前端&算法；乙-后端&运维；丙-测试&数据
	F. 甲-前端&算法；乙-测试&运维；丙-后端&数据
## 19
商品推荐场景中过于聚焦的商品推荐往往会损害用户的购物体验，在有些场景中，系统会通过一定程度的随机性给用户带来发现的惊喜感。假设在某推荐场景中，经计算A和B两个商品与当前访问用户的匹配度分别为0.8和0.2分，系统将随机为A生成一个均匀分布于0到0.8的最终得分，为B生成一个均匀分布于0到0.2的最终得分，那么最终B的分数大于A的分数的概率为_____。
正确答案: B   你的答案: B (正确)

	A. 1/16
	B. 1/8
	C. 3/16
	D. 3/8
	E. 1/4
	F. 1/3

## 20
从1,2,3,4...8,9里任意选择一部分数(至少1个),能得到多少种不同的乘积
正确答案: C   你的答案: C (正确)

	A. 144
	B. 148.
	C. 152
	D. 156
	E. 160
	F. 164